[未完成版本]欢迎回来 这周课程有趣在于 我们将学到很多背景知识 这些背景材料不仅在图象处理中十分重要 它们在很多其它学科中也有重要地位 譬如之前学过的水平集方法 它在像活动轮廓这样的曲线演化算法中有重要作用 我们这周已经看到了一些例子 在接下来还将见到更多 另外一个在数学和图像处理上都很重要的 工具是变分法 我们就要讲一讲它 在下一个视频我们将看到它的一个 在图像降噪 图像增强方面的应用
那么什么是变分法 基本思想很简单 就是扩展求函数极值的方法 但我们现在要求的是泛函的极值 这是什么意思 这是用u表示的图像 和它的导数
那么u是一幅图像 我们将试图最小化一个关于图像的泛函 可能是图像函数的平方 可能是它的梯度 可能是它的拉普拉斯梯度
我们将求解出 最小化这个函数的图像 正如我们 求解最小化给定函数的点一样 譬如我画的这个函数 可见这是那个 最小化它的点
但这里 u这个函数是我们所求的 所以我们不是求一个坐标 我们要求一个使这取极小值的函数 通过下页的例子我们可以看得更明白 我们给出求泛函极小值 和求函数极小值间的关系 我们要花几分钟说下 要使它取极小值 u要令这个等式成立 这被称为欧拉-拉格朗日方程
它是我们在图像处理中 要使用的偏微分方程 我们要演示下泛函是什么 以及我们怎么得出这个与传统微积分中 求极值方法相似的方程的 首先 泛函是什么 给定两点 我问 什么曲线穿过这两点而长度最短 那么我问的是曲线的函数 变量是一个函数 而不是一个点 任意过此两点的曲线的长度计算公式写在了这里 曲线用x和u(x)表示 如我们所知 这是曲线的众多参数化表示的一种 适用于所有经过这两点的曲线 它的长度 如我们所知 这是第一个坐标的导数的平方 这是第二个的 所以这就是我们试图最优化的函数 我们知道连接两点 距离最短的曲线是直线 但让我们用变分法得出这个结果 要求得是过这两点的函数u 这是使所求形式的泛函取极小值所必须满足条件 也就是对一个函数的函数的积分这样的泛函 我们将在之后讨论这是如何得到的 这里 F是1加上ux的平方的开根 如果你自己算一下 把这个带进来 求关于u的偏导 再减去这个导数 结果就是它 所以这个结果就是 把上面的F带入所得的 它等于0是u为所求的必要条件 也就是能最小化过这两点距离的曲线 令它为0 分母不重要 所以这里是u u关于x的二阶导等于0 即一阶导是常数 所以函数是ax+b 一条直线 确定a,b可以通过所谓的边界条件 我们知道它要穿过这些点 所以令x=0 得到这个点 令x=1 得到那个点 同理可得a和b 所以对长度来说 符合欧拉方程(必要条件)的解 就是条直线 所以如果取这条曲线 它有一定长度 但它不是长度最小的那条 它不是直线 能最小化长度的是这条 所以一个能使泛函取极小值的函数必须满足欧拉方程 这有什么用 欧拉-拉格朗日方程又是怎么来的 让我们回顾下求常规函数的极小值点的方法 [未完成版本] 你可能记不清楚具体是怎么做的了 但你应该记得这个结果 核心思想是 给定一个函数 给定一个围绕某个点的函数 然后在该点处取一个微小增量 再求关于这个增量的导数 那么这点为极值点的必要条件就是 对任意增量 导数为0 如果你求关于增量的导数 结果是这个 这对于每个n都要成立
所以函数关于任何n的导数 都要是0 也就是这个是0 所以某点是极值点的必要条件 就是这个导数为0 这有什么用
我们知道它能有什么用 由它我可以写下这个微分方程 Xt 也就是我能让x 沿使导数 也就是梯度值减小的方向变化
也就是从某点开始 你的下一点 因为x在随时间变化 沿负梯度方向移动一点 记得这是相切的 移动一点得到下一个点 这就是移动的方法
下一个点是这个点减去 一个在梯度方向上很小的一步 这就是这个式子的意思
因为如果把它离散化 我们有 x 如那里的结果 有x(t+dt)-x(t) 再除以dt 这就是它的离散化 这等于-fx 也就是这个式子 因此我们沿着负梯度方向慢慢的移动x 直到到达这一点 再看一次 走一步 再走一步 再一步 直到稳态附近 在稳态处 xt=0 什么就都不变化了 因此它等于0 也就是我们的条件 再说一次 我们知道一个点是极小值点的条件 是函数在该点的导数为0 那么取一个点 再演示一遍 取一个点 沿负梯度方向移动 缓慢地移动它一次又一次 直到它不能再动为止 此时它为0 也就是取极值的必要条件 在这个例子里 我们就求得了一个极小值点 把这种方法同样延伸到泛函上 很简单还是 从一个泛函开始 想要令u使泛函取极值 给u一个增量 u是这条黄色曲线 就是我们的初始曲线 给一个增量 现在增量是另一个函数 因为这些不是点 它们都是函数了 这就是那个增量 u~ 是原来的u和增量的和 我们想用u~代替u 然后求泛函关于扰动的导数(变分) 它必须是0 跟普通函数的情况一样 如果我施加一个函数增量这里 它也应该是0
由此 经过几步求导运算 就得到欧拉-拉格朗日方程 这就是如何利用增量函数 求得欧拉-拉格朗日方程的过程 得到了欧拉-拉格朗日方程后 就可以做之前用在函数上的事了
你可以移动你的函数 沿着欧拉-拉格朗日方程规定的方向直到稳态 当到达稳态时 你就求得了欧拉-拉格朗日方程的一个解 在这里演示下 我想重新再做一次 基本上你要一直移动它 直到稳定下来 当它稳定了 变分就是0了
让我们重新看下这件事 在常规的微积分里 我们移动点而不是曲线 沿着负梯度方向移动点 就求得了极小值点 在变分法中 我们移动函数 沿着欧拉-拉格朗日方程规定的方向 也就是泛函关于增量的导数方向 如此直到稳定 明白了么 再来一遍
一直那么做直到稳定 然后稳定时 这就成了0 于是求得了欧拉-拉格朗日方程的一个解 也就是满足了取极值 这里取极小值的必要条件 改变符号我们就能求极大值点 在下一个视频里 我们将用u表示一幅图像 令F取一些有意思的函数 得到 譬如模糊或加了噪声的图像 总的来说 这里未知的是能优化这个函数的图像 我们在常规的微积分和变分法间得到了一个类比 这些像水平集方法 变分法的技术 如我所说 应用远超过了图像处理 而图像处理所做的 在偏微分方程领域 就是把这些连续数学里的方法 借用过来 下个视频里 我将讲讲一个在图像处理方面非常有用的函数 [未完成版本] 下个视频再见 谢谢