【未完成版本】大家好 我们将从平面微分几何领域的 一些背景知识讲起 关于平面微分几何领域和 平面上曲线的理解 在开始之前 我想先说明一下 我在数字图像处理的 偏微分方程领域做过很多研究 在不久前还写过一本相关的书 我的好友兼同事 罗恩 基梅尔 (Ron Kimmel) 在该领域也有一本著作 我们都曾独立做过很多讲座 我曾开过整个学期的课程 他也一样 在这一课题上 我们有时会进行合作教学 在这周我要使用的 很多幻灯片也是来自于那些合作教学的成果 在此我想感谢基梅尔教授 允许我分享他的幻灯片 并且将之与我自己的相结合 来进行这周的偏微分方程主题的讲解 谢谢你 基梅尔教授 现在 我们来谈谈曲线 那样我们就能描述 我所说的曲线微分几何 那什么是平面上的曲线？ 对于平面上的曲线 我们可以定义一个坐标系统 方便起见 我们使用x轴和y轴 然后定义一个参数为P的曲线 我们称P为参数 其值介于0到1之间 而P的每一个值 都对应这个轴上的一个坐标 和这个轴上的一个坐标 这就是曲线上一点的坐标 举个例子 如果p=0.1 我们就得到这点 如果p=0.7 那我们得到另一点 以此类推 我想大家应该能明白这个意思 P取0到1之间的不同值 就给出了曲线上不同的点 如果一条曲线像这样闭合 那么 我们就能得到 C(0)=C(1) 这个式子 这表示曲线的开始和结尾在相同的点上 也就是一条闭合曲线 现在大家应该对这一概念很熟悉了 有可能大家还不是那么熟悉曲线 但大家一定对函数很熟悉 那用函数来说 这是一个坐标系 X Y 轴在这里 然后有一个函数 对于每一个X值 有且只有一个对应的Y值 但对于常规的曲线而言 并不是这样的 如果像函数那样 曲线通过坐标本身参数化 那我们就得到了c(x) 它的第一个坐标是X本身 这是第一个坐标 而第二个坐标则是X的函数 f(x) 这些都是大家已经非常熟悉的函数表示形式 函数和一般曲线之间的差别就在于 对于每一个X轴坐标 只有一个Y坐标相对应 这就是为什么称之为函数 因为Y轴上只有唯一的一个值 这是曲线的一种特殊情况 我们可以认为曲线也是 函数在平面上的一般化形式 一旦我们理解了 用参数P来表示的曲线 那我们在接下来的时间里 就将深入讨论关于参数P的内容 关于平面上的曲线 有一些及其重要的概念 其中两个分别是 切线和法线 以及我们所说的曲率 一会儿我们将详细解释 让我们先来看切线 如果我们有一条曲线 那就能求这条曲线的导数 这就是微分方程 微分几何学将出现的原因 Cp代表C关于p的导数 写作Cp 这简化了C关于p的导数的表示形式 当然 这是一个矢量 等于x关于p的导数 C是p的函数 所以我可以这样取导数 y也是p的函数 这样就得到了这个 我们取这一矢量的模 从而得到了单位长度的矢量 这一点至关重要 我们将会看到 有一个特殊的参数S 规定了一个单位长度的切线 我们将会频繁地用到这个 我们将会看到怎样从P得到S 但是基本思想是 我们对这一曲线求导 而大家在基础微积分课堂上学过 对一个函数求导 得到一个向量 是垂直的 对不起 确切说是 是与那一函数相切的 一会儿我们会说到垂线 所以再强调一下 对函数求导得到一个向量 这一向量与原函数相切 所以说 这条曲线的导数是与其相切的矢量 而且并不需要有单位长度 因此我们对它们进行归一化 这是一个特别的参数化 我们用s表示 它给出了一个单位长度的矢量 我们将再次看到怎样从一个值 得到另一个值 现在我们来看 我们已经得到了切线 而且特别地 请容忍我一下 我们有了参数化的曲线 通过这样 使得切线 也就是导数 永远是单位长度 单位长度指的是什么呢？ 就是指 导数向量的模等于1 明白了吗？ 这就是单位长度 假设我能写出一个曲线的表达式 它不是一个关于p的函数 而是一个关于另一个参数s的函数 这个参数给出了单位长度 长度的意思是 我要先把这个写出来 然后再解释 这个意思是 一个向量与它自己的内积等于1 如果大家不记得什么是 两个向量的内积 基本上就是 将向量1的第一个坐标 与向量2的第一个坐标相乘 然后加上 两个向量第二个坐标的积 也就是 向量1的x 乘上向量2的x 加上 向量1的y 乘上向量2的y 这样我们就有了单位长度 我们来求这个式子的导数 在两边同时求关于s的导数 这是一个导数 这个常数永远是1 所以这个导数就等于0 这个的导数也像其他函数乘积的规则一样 是第一个的导数乘以第二个 再加上 第二个的导数乘以第一个 但是因为这些都是相等的 所以结果就是 一阶导数与二阶导数内积的两倍 就像其他的乘积的规则一样 明白了吗？ 这个2可以消去 然后这个就表示 关于弧长的一阶导数 垂直于它的二阶导数 再次提醒大家一下 如果两个向量相互垂直 那么它们的内积就等于0 所以从这里 我们得到Cs 也就是一阶导数 与二阶导数垂直 而一阶导数的模等于1 而二阶导数 也就是这个 与一阶导数互相垂直 当我们求关于s的导数时 一阶导数始终是单位向量 而二阶导数则与之垂直 所以这就是二阶导数 它并不需要是一个单位向量 大多数情况下它也不是 我们将二阶导数的模称为曲率 这就是曲率 那么 这就是曲率的一个定义 它可以告诉我们切向方向改变了多少 而且是非常直观的 如果切向方向改变很大 就意味着曲线在那里弯曲得很厉害 并且有着很高的曲率 如果曲线并没有太大弯曲 比如 一条直线 那么它的曲率就等于0 那么直线的切线是怎样的呢？ 在每一点上 我来换一种颜色 在每一点上 切线沿着同一方向 也就是在这条线的方向 至于切线的改变 切线是一阶导数 那么它的变化量就成了二阶导数 这个切线的变化量等于0 所以 一条水平线 也就是一条直线 它的曲率等于0 那么一个圆的曲率是多少呢？ 为了知道这点 我们始终要 首先画出它的切线 然后来看 当我从一点移动到另一点时 它们怎样趋向于无穷小 那些就是导数 它意味着当两个点非常接近时 它们的切线是如何变化 首先 它是一个常数 因为圆上的每个点都是一样的 所以曲率一定是个常数 这样就不难证明 曲率等于半径的倒数 明白了吧 曲率就是圆半径的倒数 一个圆越大 曲率就越大 啊 对不起 说错了 应该是圆越大 半径就越大 所以半径的倒数 也就是曲率就越小 大家可以把一条直线想象成 一个半径无穷大的圆 有着相当大的半径 而无穷大的倒数等于0 所以直线的曲率就等于0 我已经讲了大量新的概念 幻灯片上已经五颜六色了 让我们再来复习一下吧 我们学习了切线 从函数分析 微积分的角度上来说 就是一阶导数 接着我们想对它进行归一化 想求出单位长度 这是一个参数化过程 我们将会学习它是如何做转换的 这让我们得到了 一阶导数永远是单位长度的 总是单位长度的 针对这一概念 我们再求一次导 这样我们就 得到了二阶导数 在涉及到关于s的导数时 二阶导数总是垂直于一阶导数的 这样二阶导数就有了一个系数 也是该向量的模 这就是曲率 曲率是曲线关于s的二阶导数的模 s被称作弧长 一会儿我们就会解释原因 这样我们就得到了弧长s 还得到了k 这是一个希腊字母 代表曲率 现在我们就有了s和曲率 而且我们还说到了 圆半径和曲率的关系 事实上 它们是仅有的两种曲线拥有恒定的曲率 比如 直线的曲率是0 而圆的曲率则是半径的倒数 那么为什么这两个量 s和曲率k 如此重要 它们极其重要 因为它们 在曲线的一些特定变换过程中 会被保留下来 那对于曲线 我们能做些什么变换呢？ 【未完成版本】这里有一条曲线 曲线在哪里呢？ 就是这个对象的轮廓 现在我们知道 为何微分几何如此重要了 这是因为曲线是对象的轮廓 而对象存在于图像之中 现在 我可以用多种方式对它们进行变换 但总让它们保持在平面上 一般这样变换 先取坐标 那是一个向量 将它乘以一个矩阵 平移 得到一个新的向量 这就叫作仿射变换(Affine Transform) 如果在A这个矩阵中不加任何限制条件 对一条曲线作仿射变换 形成一条新的曲线 也可以做一个旋转变换 这里它变成了这样的形状 在不同维度不同方向伸展 如果我只想进行旋转和平移 旋转之后平移或者平移之后旋转 这就要对A加以限制 不难证明 如果只允许旋转和平移 A得是一个2乘2矩阵 这里一个向量乘一个2乘2矩阵 抱歉 应该是一个矩阵乘以一个向量得到一个新向量 这需要各列是正交的 意味着它们的内积要为0 正如之前幻灯片所看到的那样 内积为0意味着正交 且它们还需要是单位向量 这不难证明 但重要的是 你可以旋转和平移 这叫做欧几里得运动 或者你可以 做一般变形 称为仿射运动 这两个图同样可以通过仿射运动相关联 仿射运动有个特殊性质 如果这个矩阵的行列式为1 那么就称它为等仿射运动 如果行列式等于1 那么这里的面积就不会改变 于是就可以在不同方向进行伸缩 可以旋转 可以平移 但它的面积不变 当然也可以只做欧几里得运动 即旋转和平移  面积是不变的 仿射变换没有要求保持不变的量 不过如果变换矩阵的行列式等于1 这时不难证明 这个物体的面积 即曲线包含的这个物体的面积是不变的 这样的变换称为等仿射运动 或等仿射变换 通常简称为仿射 假设我们讲的这些变换行列式都等于1 它们都属于线性变换 我们不讨论非线性变换 X或logY平方等等 我们都不会讨论到 我们只会讨论乘以一个矩阵的情况 所以只会是线性变换 现在我们了解了欧几里得和仿射变换 一般是等仿射变换 于是我们可以对曲线 即形状 进行旋转伸缩之类的变换 我们暂时回到曲率 在那里提到了这两个量 弧长和曲率 弧长这个参数代表恒定的单位长度切线 曲率是对弧长 求二次导数得到的量值 如果我们历遍整条曲线 即整个形状 每个点都能得到一个曲率值 我把它画到这里 S是这个形状每一点的参量 每个S对应着曲线上一个点 也对应着一个曲率 现在假设我做了一个欧几里得变换 对这个形状进行旋转和平移  有趣的事情发生了 当然 这里有对应的点 这个点旋转和平移到这个点 这就是它的美丽所在 两个点有相同的曲率 于是这里的曲率 和这里的曲率的值是一样的 因此 在两个对应点处的一阶导数 二阶导数的幅值是相同的 所有相应的点都会这样 这里我们有另一对对应点 他们有相同的曲率 有时曲率会是0 有时会是负数 每对对应点 都有相同的曲率 每个点都是 如果我们有两个形状 它们可以互相通过旋转和平移 即欧几里得运动联系起来 那么它们的曲率是一致的 当然 你必须知道起始点 就是对应的S为0的点 一旦有了起始点 就能得到两条相同的曲率曲线 因此 曲率可以唯一决定形状 而形状由平移和旋转决定 这是个美妙的定理 基本上说 这条曲线与这一条曲线相同 曲线里面的形状取决于旋转和平移 已经证明 所有对象都不会因为旋转或平移而发生改变 任何的微分都是s和Kappa 即弧长和曲率的函数 这些在微分几何中是很赞的结论 例如 我们可以取曲率和曲率的导数 然后在坐标系上得到另一条变态的曲线 对每个我们要研究的曲率 它们的导数是多少 每一点上的曲率变化了多少？ 下面对一个形状进行运算 作个旋转和平移 Voila(瞧) 我们得到完全相同的值 这个理论的一部分依据嘉当定理 是嘉当定理的扩展 有些甚至比它还前卫 但这正是它的美妙之处 现在有了弧长S和曲率Kappa 于是得到所谓的微分不变性 只作旋转和平移 函数不会改变 因此它们唯一确定了物体 只取决于旋转或平移 你无法恢复旋转  因为它们具有不变性 但这些函数只能唯一确定欧式几何中的旋转和平移 那仿射变换又会有怎样的情况呢？ 如果我们不只是旋转和平移 还同时让曲线 形状 在不同方向上进行伸缩  情况会怎样？ 很不幸 或者说很幸运 如果你喜欢数学 不是所有的图像处理都只有旋转和平移 下面假设有个像我的手那样的形状 如果我只像这样 与摄像头平行 我可以用旋转来作为物体运动的模型 当我把手向摄像头倾斜 然后向摄像头作个投影 这时就不仅仅是旋转和平移了 一个对此可行的建模方法就是仿射变换 如果物体在平面上 与到摄像头的距离是相对的 像这里 我们看到的平面上的一幅画 这是摄像头 把我们想成摄像头 我们看到一个很平坦的形状 这里是一个仿射变换 同样 这是乘以一个矩阵的更一般形式 因为我不止在与摄像头平行的位置作旋转和平移 而且还有一点倾斜 这可以用仿射变换来建模 仿射变换是更通用的线性变换 所以我们要扩展这些基本概念 来考虑仿射变换 记住仿射变换是 更具有一般性质的矩阵 这里有x和y 用一个更一般性的矩阵乘以它 这个矩阵行列式一般为1 以保持面积不变 这样可以更方便计算 我们不需要很复杂 我们大可不需要单位行列式 但设定了它会让我们更方便 所以 当我们讲到旋转和平移的时候 记得 我们设定这一列和这一列 是正交的 因此 它们的内积等于0 而且它们是归一化的 这是旋转 这表示平移 当我们假设更一般性的矩阵 像这样单位行列式的 这是仿射变换 这里还有点倾斜 有不同角度的伸缩 所以同样地 我们定义仿射变换的弧长和曲率 为了做到这些 我讲讲 什么是参数化 我可以像往常那样得到一个以p为参数的曲线 也可以用另一个参量r来参数化 以r或者以p为参数 得出来的曲线是一样的 都表示沿着这条曲线行走的速度 如果对这条曲线以p求导 你会得到有确定大小的正切向量 如果你求对r求导 你会得到相同方向上大小不同的切向向量 如果你还记得基础物理 就知道导数其实是速度 这就相当于告诉了我走过这条曲线有多快 但你的起止点都是相同的 就像你在高速公路的两点间行驶 行驶的速度就是参数 高速公路就是曲线 路是不变的 当我们用几何函数 抱歉 回到刚才的幻灯片 当我们取曲线的几何函数 对于每个参量都是不变的 公路上两点的距离不会取决于我驾驶的速度 所以我们的几何测量 对于取不同参量 值也是不变的 它需要保持不变 不管我们是作旋转变换 还是仿射变换 所以如果你拿一张地图 然后旋转它 两个城市间的距离也是不变的 不会因为我用不同方式看地图 城市间的距离就发生变化 距离是不会变的 那么 我们就用这个概念来定义之前讲到的弧长S 现在明确地定义它 之后我们也将在仿射变换中做相同的定义 我们先从欧几里得变换开始 一般来说 它只允许旋转
我们来看一下 这张图很有意思 假设有条曲线经过这里 我们取一个无穷小量 即取曲线的极小一部分 然后我可以画一个坐标系 就像这样 然后在X方向 和Y方向均有一个微小的移动 根据勾股定理 因为X方向垂直于Y方向 所以我们得到这个距离为 根号下 X方向上距离的平方 加Y方向上距离的平方 简单的勾股定理 现在同时乘以除以一个dp P是一般化的参数 我们乘以除以一个p的微小改变量 记住 我们只是讨论 这里的曲线 
现在我将画出一条曲线 在X方向上移动一丁点 在Y方向上移动一小点 然后计算总体移动了多少 对这个式子同时乘以除以dp 而这个曲线为C(p) 同时乘以除以dp dp表示了参数的一个小变化
整个式子还是相等的 现在将这个dp移进根号中 得到dp的平方 明白？ 将它移进根号中去 因为移入的是一个平方根 所以得先把它平方起来 于是我们得到了这个式子 dp在这里 而这正是欧几里得距离的定义 即距离向量的大小 我们得到 ds=|Cp| x dp 如果要得到弧长S 就做它的积分 明白吗？
这就是将一般化的参数P转换到 到具体参数S的方法 在这个方法中 导数就是单位长度的
它总会是单位长度向量 它是一个单位长度向量 接着 曲线的长度 曲线的总长 等于 |Cp|dp 从P为0到1的积分 这是长度的定义
如果你把积分替换为 ds从0到长度L的积分 那么 当你以s作为参数时 将不是从0积到1 而是从0积到曲线的长度 再提一下
这告诉我们 如何从一般化的参数得到S 所以从两个城市间的旅行速度来看 如果你对旅途中的速度进行积分 通过这种方法 你会发现旅行的长度是一样的 待会我们求二阶导数时 这个性质会引出欧几里得曲率 所以这就是欧几里得变换时的参数变换
欧几里得旋转和变换 能保持曲线长度不变 这就是为什么在这里可以使用长度 现在 在仿射的情形中 或者是更特别的等仿射情形中 长度不再保持不变
那什么保持不变呢？ 面积会保持不变 所以我可以考虑求面积 为了求得面积
我需要两个向量 一个向量不能求出面积 两个才行 所以 我要求出一阶导数 它还是表示了切线 而V就是仿射变换的弧长 所以一阶导数就不会是单位长度的了 那个性质 只有当你对S 对欧几里得弧长求导时才成立 所以我求得一阶导数 和二阶导数 再说一遍 这两个向量一般是不会垂直的 这个性质 只有当你对弧长S求导时才成立 然后我着眼于面积 寻找参数V 使得在求一阶导数和 和二阶导数时 这个区域的面积等于1 我通过这种方式定义参数V 你可以自己做一些数学推算 我们求出一阶导数 它是一个向量 二阶导数也是一个向量 然后我们将它们作为向量构成一个 2x2 的矩阵 所以请记住 这两个都是向量 所以我们得到一个 2x2 的矩阵 它基本上就是这种形式 我来把它写来下 Xv Yv Xvv Yvv 它们构成了一个矩阵 然后我要来求这个矩阵的行列式 一个矩阵的行列式等于 由这两个向量组成的平行四边形的面积 现在我讲了一个新的概念 一堆你可能不熟悉的概念 但是我从头开始定义了它们 如果我有一个 2x2 的矩阵
这是一个向量 这也是一个向量 它的行列式就等于 这两个向量组成的平行四边形的面积 就如这里所示
然后让其等于1 记住 对于欧几里得变换 我们要求长度等于1 而这里 我们要求面积等于1 我不想向你证明太多东西 但是任何参数p 都能推算出一个新的参数v 它能通过这个积分计算得到 明白了吗？ 这是个定理 现在相信它是正确的就可以了
特别地 我可以令p等于欧几里得弧长 这样的设定是可以的 所以这里变成了Cs和Css
那这两个是什么呢？ 这是一阶导数
而且是单位长度的 在欧几里得弧长的例子中 二阶导数垂直于 一阶导数 并且它的大小等于曲率 所以这等于1 这等于曲率 所以面积的大小等于曲率 我们得到了仿射弧长V 可以由k的三分之一次方的积分得到 通过这个积分式子 我们得到了欧几里得弧长和 仿射弧长之间一个非常有意思的关系 所以我们可以从仿射弧长得到欧几里得弧长 它们通过欧几里得曲率联系起来 这是微分几何中一个美妙的关系式 它联系了欧几里得微分几何和仿射微分几何 现在 我们有了仿射弧长这个概念 下一步是求出仿射曲率 那如何才能求出仿射曲率呢？ 这里用到的方法和之前求K的方法非常相似 如果你还记得在欧几里得变换中求K的方法 我们先从求导开始 利用它的性质 这个式子等于1 在长度不变的情况下 我们求了导数 而现在是面积不变 面积的定义用到了仿射弧长
记住 这是两个向量构成的矩阵的行列式 然后我们对其求导 求行列式的导数和求其他乘积导数的规则一样 我们必须求出第一个向量的导数 第二个向量保持不变 接着求出第二个向量的导数 第一个向量保持不变 于是得到这里的式子
Cv Cvv两个向量组成的行列式的导数 它等于是这里的行列式 第一个向量的导数 第二个向量不变 再加上这个行列式 第二个向量的导数 第一个向量不变 如果一个行列式的两个列是相同的 那么它就等于0 所以这个为0 这是线性代数中很基础的知识 这样一来 这里的行列式 它的值等于0  这就说明了这两个向量是平行的 当我们对这个式子求导数时 得到这么一个结论 当两个向量的内积等于0时 这两个向量一定是相互垂直的 当两个向量的行列式等于0时 这两个向量一定是平行的 这也是线性代数中的基础知识 所以当对仿射弧长求导时 它的一阶导数和二阶导数是两个向量 而这两个向量是平行的 它们是平行的
比如说 其中一个向量沿这个方向 另一个沿着这个方向
我们将它们的比值 定义为仿射曲率 这种定义方式和之前 定义欧几里得曲率的方式相同 它用到了欧几里得弧长二阶导数的大小 而这两个平行向量的比值就是仿射曲率 不难看出 这个新定义的曲率u 这个仿射曲率是仿射不变的 我想要表达的意思很简单 如果做一个之前讨论的变换 仿射变换会保持面积不变 记住 这里是等仿射变换 我们有一个曲线 一个物体边界的曲线 然后 我们做一个仿射变换 计算这个曲线的仿射曲率 它是曲线的仿射弧长的一个函数 对于变换后的曲线 我们也计算出它的仿射曲率 瞧 它们完全相同
所以 这和欧几里得变换一样 根据欧几里得变换 S和K 欧几里得弧长和欧几里得曲率 它们的关系不会改变 仿射弧长和仿射曲率之间的关系也不会改变 它们基本是相同的 在仿射变换中 它们能完全标识出一个对象
现在 你对平面微分几何已经很了解了 你知道了弧长的概念 它是一个特别的参数 它给出了曲线的一些有趣的性质 比如 欧几里得变换中恒定大小的一阶导数 或者 仿射变换中恒定大小的面积 从这些性质中 我们得到了曲率 在欧几里得变换中 在旋转之后 欧几里得曲率是不变的 在仿射变换中 仿射变换之后 仿射曲率是不变的 所以曲率是关于弧长很简单的函数 它们能唯一确定出一个形状 唯一确定出一条曲线
接下来 我们要做的是 将这些概念向曲面做一些扩展 我们将在下一个视频中学习这些知识 那时 你能把微分几何学的知识作为基本工具 处理曲线的形态以及做一些有关的图像处理 并且能够理解主动轮廓的知识 那么 让我们在下一个视频中再见吧 谢谢大家