WEBVTT

1
00:00:00.000 --> 00:00:04.716
[未完成版本]欢迎回来 这周课程有趣在于 

2
00:00:04.716 --> 00:00:07.790
我们将学到很多背景知识 

3
00:00:07.790 --> 00:00:12.190
这些背景材料不仅在图象处理中十分重要 

4
00:00:12.190 --> 00:00:16.910
它们在很多其它学科中也有重要地位 

5
00:00:16.910 --> 00:00:20.673
譬如之前学过的水平集方法 

6
00:00:20.673 --> 00:00:25.775
它在像活动轮廓这样的曲线演化算法中有重要作用 

7
00:00:25.775 --> 00:00:29.156
我们这周已经看到了一些例子 

8
00:00:29.156 --> 00:00:32.090
在接下来还将见到更多 

9
00:00:32.090 --> 00:00:37.161
另外一个在数学和图像处理上都很重要的 

10
00:00:37.161 --> 00:00:40.257
工具是变分法 

11
00:00:40.257 --> 00:00:44.604
我们就要讲一讲它 

12
00:00:44.604 --> 00:00:49.346
在下一个视频我们将看到它的一个 

13
00:00:49.346 --> 00:00:54.120
在图像降噪 图像增强方面的应用
那么什么是变分法 

14
00:00:54.120 --> 00:01:00.234
基本思想很简单 就是扩展求函数极值的方法 

15
00:01:00.234 --> 00:01:03.801
但我们现在要求的是泛函的极值 

16
00:01:03.801 --> 00:01:08.047
这是什么意思 

17
00:01:08.047 --> 00:01:11.790
这是用u表示的图像 

18
00:01:11.790 --> 00:01:15.750
和它的导数
那么u是一幅图像 

19
00:01:15.750 --> 00:01:20.346
我们将试图最小化一个关于图像的泛函 

20
00:01:20.346 --> 00:01:25.791
可能是图像函数的平方 可能是它的梯度 

21
00:01:25.791 --> 00:01:29.751
可能是它的拉普拉斯梯度
我们将求解出 

22
00:01:29.751 --> 00:01:35.338
最小化这个函数的图像 正如我们 

23
00:01:35.338 --> 00:01:39.157
求解最小化给定函数的点一样 

24
00:01:39.157 --> 00:01:44.460
譬如我画的这个函数 可见这是那个 

25
00:01:44.460 --> 00:01:48.018
最小化它的点
但这里 u这个函数是我们所求的 

26
00:01:48.018 --> 00:01:51.755
所以我们不是求一个坐标 

27
00:01:51.755 --> 00:01:55.419
我们要求一个使这取极小值的函数 

28
00:01:55.419 --> 00:02:00.548
通过下页的例子我们可以看得更明白 

29
00:02:00.548 --> 00:02:05.458
我们给出求泛函极小值 

30
00:02:05.458 --> 00:02:08.829
和求函数极小值间的关系 

31
00:02:08.829 --> 00:02:14.764
我们要花几分钟说下 要使它取极小值 

32
00:02:14.764 --> 00:02:19.373
u要令这个等式成立 

33
00:02:19.373 --> 00:02:25.071
这被称为欧拉-拉格朗日方程
它是我们在图像处理中 

34
00:02:25.071 --> 00:02:28.650
要使用的偏微分方程 

35
00:02:28.650 --> 00:02:34.348
我们要演示下泛函是什么 

36
00:02:34.348 --> 00:02:40.045
以及我们怎么得出这个与传统微积分中 

37
00:02:40.045 --> 00:02:43.259
求极值方法相似的方程的 

38
00:02:43.259 --> 00:02:48.300
首先 泛函是什么 

39
00:02:48.300 --> 00:02:54.729
给定两点 我问 

40
00:02:54.729 --> 00:02:59.086
什么曲线穿过这两点而长度最短 

41
00:02:59.086 --> 00:03:05.000
那么我问的是曲线的函数 变量是一个函数 

42
00:03:05.000 --> 00:03:07.880
而不是一个点 

43
00:03:07.880 --> 00:03:13.002
任意过此两点的曲线的长度计算公式写在了这里 

44
00:03:13.002 --> 00:03:18.042
曲线用x和u(x)表示 如我们所知 

45
00:03:18.042 --> 00:03:23.991
这是曲线的众多参数化表示的一种 

46
00:03:23.991 --> 00:03:29.493
适用于所有经过这两点的曲线 

47
00:03:29.493 --> 00:03:34.370
它的长度 如我们所知 

48
00:03:34.370 --> 00:03:39.940
这是第一个坐标的导数的平方 这是第二个的 

49
00:03:39.940 --> 00:03:42.978
所以这就是我们试图最优化的函数 

50
00:03:42.978 --> 00:03:47.245
我们知道连接两点 

51
00:03:47.245 --> 00:03:51.657
距离最短的曲线是直线 

52
00:03:51.657 --> 00:03:56.575
但让我们用变分法得出这个结果 

53
00:03:56.575 --> 00:04:00.120
要求得是过这两点的函数u 

54
00:04:00.120 --> 00:04:07.419
这是使所求形式的泛函取极小值所必须满足条件 

55
00:04:07.419 --> 00:04:12.590
也就是对一个函数的函数的积分这样的泛函 

56
00:04:12.590 --> 00:04:19.390
我们将在之后讨论这是如何得到的 

57
00:04:19.390 --> 00:04:24.235
这里 F是1加上ux的平方的开根 

58
00:04:24.235 --> 00:04:28.825
如果你自己算一下 

59
00:04:28.825 --> 00:04:35.370
把这个带进来 求关于u的偏导 再减去这个导数 

60
00:04:35.370 --> 00:04:43.367
结果就是它 所以这个结果就是 

61
00:04:43.367 --> 00:04:51.040
把上面的F带入所得的 

62
00:04:51.040 --> 00:04:57.905
它等于0是u为所求的必要条件 

63
00:04:57.905 --> 00:05:03.815
也就是能最小化过这两点距离的曲线 

64
00:05:03.815 --> 00:05:09.030
令它为0 分母不重要 

65
00:05:09.030 --> 00:05:15.317
所以这里是u 

66
00:05:15.317 --> 00:05:22.100
u关于x的二阶导等于0 即一阶导是常数 

67
00:05:22.100 --> 00:05:27.230
所以函数是ax+b 一条直线 

68
00:05:27.230 --> 00:05:32.004
确定a,b可以通过所谓的边界条件 

69
00:05:32.004 --> 00:05:35.566
我们知道它要穿过这些点 

70
00:05:35.566 --> 00:05:41.628
所以令x=0 得到这个点 

71
00:05:41.628 --> 00:05:46.100
令x=1 得到那个点 同理可得a和b 

72
00:05:46.100 --> 00:05:52.880
所以对长度来说 符合欧拉方程(必要条件)的解 

73
00:05:52.880 --> 00:05:57.287
就是条直线 

74
00:05:57.287 --> 00:06:03.050
所以如果取这条曲线 它有一定长度 

75
00:06:03.050 --> 00:06:09.345
但它不是长度最小的那条 它不是直线 

76
00:06:09.345 --> 00:06:12.533
能最小化长度的是这条 

77
00:06:12.533 --> 00:06:18.750
所以一个能使泛函取极小值的函数必须满足欧拉方程 

78
00:06:18.750 --> 00:06:23.270
这有什么用 欧拉-拉格朗日方程又是怎么来的 

79
00:06:23.270 --> 00:06:30.065
让我们回顾下求常规函数的极小值点的方法 

80
00:06:30.065 --> 00:06:34.509
[未完成版本] 你可能记不清楚具体是怎么做的了 

81
00:06:34.509 --> 00:06:37.797
但你应该记得这个结果 

82
00:06:37.797 --> 00:06:41.703
核心思想是 给定一个函数 

83
00:06:41.703 --> 00:06:45.060
给定一个围绕某个点的函数 

84
00:06:45.060 --> 00:06:48.417
然后在该点处取一个微小增量 

85
00:06:48.417 --> 00:06:52.460
再求关于这个增量的导数 

86
00:06:52.460 --> 00:06:57.872
那么这点为极值点的必要条件就是 

87
00:06:57.872 --> 00:07:01.230
对任意增量 导数为0 

88
00:07:01.230 --> 00:07:07.440
如果你求关于增量的导数 结果是这个 

89
00:07:07.440 --> 00:07:12.687
这对于每个n都要成立
所以函数关于任何n的导数 

90
00:07:12.687 --> 00:07:18.365
都要是0 也就是这个是0 

91
00:07:18.365 --> 00:07:22.227
所以某点是极值点的必要条件 

92
00:07:22.227 --> 00:07:28.057
就是这个导数为0 

93
00:07:28.057 --> 00:07:32.675
这有什么用
我们知道它能有什么用 

94
00:07:32.675 --> 00:07:35.704
由它我可以写下这个微分方程 

95
00:07:35.704 --> 00:07:40.216
Xt 也就是我能让x 

96
00:07:40.216 --> 00:07:47.115
沿使导数 也就是梯度值减小的方向变化
也就是从某点开始 

97
00:07:47.115 --> 00:07:53.929
你的下一点 因为x在随时间变化 

98
00:07:53.929 --> 00:07:58.327
沿负梯度方向移动一点 

99
00:07:58.327 --> 00:08:04.700
记得这是相切的 移动一点得到下一个点 

100
00:08:04.700 --> 00:08:09.283
这就是移动的方法
下一个点是这个点减去 

101
00:08:09.283 --> 00:08:12.780
一个在梯度方向上很小的一步 

102
00:08:12.780 --> 00:08:18.840
这就是这个式子的意思
因为如果把它离散化 

103
00:08:18.840 --> 00:08:23.560
我们有 x 

104
00:08:25.540 --> 00:08:35.606
如那里的结果 有x(t+dt)-x(t) 

105
00:08:35.606 --> 00:08:39.630
再除以dt 这就是它的离散化 

106
00:08:39.630 --> 00:08:45.900
这等于-fx 

107
00:08:45.900 --> 00:08:54.224
也就是这个式子 因此我们沿着负梯度方向慢慢的移动x 

108
00:08:54.224 --> 00:08:59.054
直到到达这一点 再看一次 

109
00:08:59.054 --> 00:09:05.523
走一步 再走一步 再一步 

110
00:09:05.523 --> 00:09:12.084
直到稳态附近 在稳态处 xt=0 

111
00:09:12.084 --> 00:09:16.093
什么就都不变化了 

112
00:09:16.093 --> 00:09:20.528
因此它等于0 也就是我们的条件 

113
00:09:20.528 --> 00:09:27.016
再说一次 我们知道一个点是极小值点的条件 

114
00:09:27.016 --> 00:09:31.312
是函数在该点的导数为0 

115
00:09:31.312 --> 00:09:36.310
那么取一个点 再演示一遍 

116
00:09:36.310 --> 00:09:41.849
取一个点 沿负梯度方向移动 

117
00:09:41.849 --> 00:09:47.758
缓慢地移动它一次又一次 

118
00:09:47.758 --> 00:09:52.560
直到它不能再动为止 

119
00:09:52.560 --> 00:09:58.534
此时它为0 也就是取极值的必要条件 

120
00:09:58.534 --> 00:10:03.366
在这个例子里 我们就求得了一个极小值点 

121
00:10:03.366 --> 00:10:08.550
把这种方法同样延伸到泛函上 

122
00:10:08.550 --> 00:10:14.427
很简单还是 从一个泛函开始 

123
00:10:14.427 --> 00:10:19.930
想要令u使泛函取极值 给u一个增量 

124
00:10:19.930 --> 00:10:27.155
u是这条黄色曲线 就是我们的初始曲线 

125
00:10:27.155 --> 00:10:31.390
给一个增量 现在增量是另一个函数 

126
00:10:31.390 --> 00:10:34.956
因为这些不是点 

127
00:10:34.956 --> 00:10:39.785
它们都是函数了 这就是那个增量 

128
00:10:39.785 --> 00:10:44.540
u~ 是原来的u和增量的和 

129
00:10:44.540 --> 00:10:50.630
我们想用u~代替u 

130
00:10:50.630 --> 00:10:56.341
然后求泛函关于扰动的导数(变分) 

131
00:10:56.341 --> 00:11:02.203
它必须是0 跟普通函数的情况一样 

132
00:11:02.203 --> 00:11:05.553
如果我施加一个函数增量这里 

133
00:11:05.553 --> 00:11:09.588
它也应该是0
由此 经过几步求导运算 

134
00:11:09.588 --> 00:11:13.700
就得到欧拉-拉格朗日方程 

135
00:11:13.700 --> 00:11:19.270
这就是如何利用增量函数 

136
00:11:19.270 --> 00:11:24.650
求得欧拉-拉格朗日方程的过程 

137
00:11:24.650 --> 00:11:30.427
得到了欧拉-拉格朗日方程后 

138
00:11:30.427 --> 00:11:35.456
就可以做之前用在函数上的事了
你可以移动你的函数 

139
00:11:35.456 --> 00:11:39.852
沿着欧拉-拉格朗日方程规定的方向直到稳态 

140
00:11:39.852 --> 00:11:45.613
当到达稳态时 你就求得了欧拉-拉格朗日方程的一个解 

141
00:11:45.613 --> 00:11:49.706
在这里演示下 

142
00:11:49.706 --> 00:11:53.420
我想重新再做一次 

143
00:11:53.420 --> 00:11:57.233
基本上你要一直移动它 

144
00:11:57.233 --> 00:12:03.040
直到稳定下来 当它稳定了 

145
00:12:03.040 --> 00:12:07.200
变分就是0了
让我们重新看下这件事 

146
00:12:07.200 --> 00:12:13.784
在常规的微积分里 我们移动点而不是曲线 

147
00:12:13.784 --> 00:12:20.104
沿着负梯度方向移动点   

148
00:12:20.104 --> 00:12:25.371
就求得了极小值点 在变分法中 

149
00:12:25.371 --> 00:12:32.306
我们移动函数 沿着欧拉-拉格朗日方程规定的方向 

150
00:12:32.306 --> 00:12:36.871
也就是泛函关于增量的导数方向 

151
00:12:36.871 --> 00:12:40.623
如此直到稳定 明白了么 

152
00:12:40.623 --> 00:12:47.201
再来一遍
一直那么做直到稳定 

153
00:12:47.201 --> 00:12:52.062
然后稳定时 这就成了0 

154
00:12:52.062 --> 00:12:57.937
于是求得了欧拉-拉格朗日方程的一个解 

155
00:12:57.937 --> 00:13:01.747
也就是满足了取极值 这里取极小值的必要条件 

156
00:13:01.747 --> 00:13:05.161
改变符号我们就能求极大值点 

157
00:13:05.161 --> 00:13:10.480
在下一个视频里 我们将用u表示一幅图像 

158
00:13:10.480 --> 00:13:14.132
令F取一些有意思的函数 

159
00:13:14.132 --> 00:13:19.532
得到 譬如模糊或加了噪声的图像 

160
00:13:19.532 --> 00:13:26.290
总的来说 这里未知的是能优化这个函数的图像 

161
00:13:26.290 --> 00:13:31.622
我们在常规的微积分和变分法间得到了一个类比 

162
00:13:31.622 --> 00:13:37.540
这些像水平集方法 变分法的技术 

163
00:13:37.540 --> 00:13:41.631
如我所说 应用远超过了图像处理 

164
00:13:41.631 --> 00:13:46.306
而图像处理所做的 在偏微分方程领域 

165
00:13:46.306 --> 00:13:51.347
就是把这些连续数学里的方法 

166
00:13:51.347 --> 00:13:55.836
借用过来 下个视频里 

167
00:13:55.836 --> 00:14:00.681
我将讲讲一个在图像处理方面非常有用的函数 

168
00:14:00.681 --> 00:14:03.702
[未完成版本] 下个视频再见 谢谢