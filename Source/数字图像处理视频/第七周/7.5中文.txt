【未完成版本】大家好 欢迎回来 让我们来看看图像恢复的另一个概念 我们这一节要学习的是智能剪切与粘贴 我们首先介绍这个概念 然后再来看看如何将其与之前视频中讲过的 变分法和公式法结合起来得到很好的结果 那么 我们为什么需要另一种形式的图像修复技术呢？ 其实有很多原因 其中一个原因 在之前视频里的例子中就有体现 我们知道 实际上偏微分方程和变分公式 用于光滑连续区域的修复是非常好的 但是我们这里可以看到 它们在纹理的修复上就不是很理想了 我们需要将这些区域中的纹理扩展到损坏了的区域上去 在这种情形下 这种类型的技术 就非常有用了 我们把这个区域放大了看看 便于我们解释这个技术 我们现在需要修复这里面的区域 这里的这些图案是我们想要扩展上去的 当然这里用偏微分方程来扩展这个流到这些区域也是可行的 但是对于这里的这种有多个方向的纹理 用偏微分方程的方法 就比较困难了 但是我们还有另一种技术 回忆一下我们讲过的非局部均值方法处理图像噪声 我们恰好可以利用同种类型的方法 不过这一次是用在图像修复上 我们来看看其基本思想 假设从这里取一小片图像出来 这个小片比较特别 它包含了一些已知信息区域和未知信息区域 现在使用跟非局部平均一样的办法 我们在周围寻找相似的小片 但是我们只对已知信息的区域做对比 例如 我们在这里取相同大小的一片 但是我们只关注这个区域 并且这部分区域跟这部分区域相似 然后继续 比如我们可能查看这里 然后我们还是只关注这部分区域 这样就至少把已知区域平移到了那个区域上 我们继续这个过程 最终我们在已知的区域里可能发现 一个或多个这样的小片 它们相同或者非常相似 假设我们已经找到了一个 比如在这里找到一个 我把这里涂一下 然后我们就说 好吧 这跟这里非常相似 那么我们如何填充这个区域呢？只要把这部分复制过来就可以了 未知的区域就变成了匹配部分的已知部分 可以复制整个区域 也可以只复制一些边界像素 还可以只从一个部分复制 或者 如果我们找到了多个小片 跟这部分像素相似 那也可以取它们的平均 或者应用其他任何形式的函数 然后复制到这里 不过其基本概念跟非局部平均的基本思想是一致的 找到相似的小片 但是现在相似只基于已知的区域 一旦我们找到了相似的区域 就可以复制已知区域到这里 只要做了这个 这部分就完成了 并且它变成了已知的 这样我们就可以继续传递下去 这部分现在变成了已知的 【未完成版本】因为它已经被填充了 然后就可以继续 不断地重复这个过程 所以其基本思想就是检查所有未知的像素 我们从周围有很多已知区域的像素开始 不断填充它们 然后对其他像素不断重复这个过程 直到填满所有的像素 我们回到前一张幻灯片 我们可以看到 这些纹理看起来要好很多 这里这些纹理也不错 实际上 整个图像上的纹理都得到了很好的修复 就是用了跟非局部平均相同的概念 现在我们可以将其与变分公式结合起来 我们刚才谈过 可以写出其变分公式 不过我们还要加上一些额外的限制 比如 我们可以说 好吧 如果这个小片在这里找到了一个朋友 也就是说一个跟它很相似的小片 我想确保跟它相邻的小片 不好意思 我换一下笔的颜色 我想要确保 跟它相邻的这个小片 找到一个与前一个相邻的相似部分 那这个就可以帮助我们 这会加快搜索的过程 并且还会强制这个区域平滑地复制到这里 这样就能通过例如寻找平移向量来得出变分公式 这部分从这里平移到这里 这部分平移到这里 我们有了两个平移向量 我们可以强制平移向量平滑变化 这就得到了变分公式 例如 我们可以对平移向量求对坐标方向的导数 如果导数太大就进行相应的惩罚 我们就只在周围得到一些新的小片 所有这些概念可以组合成一个变分公式 这样就相当富集了 我们可以合并偏微分方程 或者光滑连续变分公式 如前所见 我们可以合并智能剪切和粘贴到 一个大的变分公式里 就可以得到一个如这里这个一样好的结果 我们可以看到 这里有个物体被移除了 这是通过组合 变分公式和智能剪切粘贴得到的 这里是另一个例子 很快我还会在下一个视频中继续讲解这个例子 经过修复过的这张图片看起来非常好 我们把这个灯移除掉 得到了一个非常好的结果 这里这个例子 是移除了这些栅栏 我们通过组合剪切粘贴和变分公式 得到了一个很好的结果 我们已经见过两种 或者三种概念 偏微分方程和变分公式 这两个基本上是算同一种 因为标准变分公式得到的也是偏微分方程 然后是智能剪切与粘贴 我们也见过了如何将他们组合在一起 然后得到很好的图像修复结果 在我介绍视频修复的概念之前 我想演示一下 实时修复 我们将在下一个视频里讲解这个 希望能再次见到大家 谢谢大家