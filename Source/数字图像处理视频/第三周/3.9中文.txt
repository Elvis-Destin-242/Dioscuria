欢迎回到局部滤波部分 我们要介绍另一个非常重要 并且用途广泛的局部滤波器 那就是中值滤波器 接下来我们将对其进行详细的讲解 这是一种很棒的滤波器 因为它不会使边缘变得模糊不清 而且尽管它是一种很经典的滤波器 但是在今天仍然很常用 那下面就开始中值滤波的学习 在正式讲解中值滤波器之前 先来看一个实物图像的例子 这里有一幅被椒盐噪声污染的图像 下周 我们会为大家 进一步讲解不同的噪声模型 这个椒盐噪声 是一种比较剧烈的噪声 分别加在各个像素上 请看这里 这是局部均值滤波的结果 是在此前的视频中看到过的 就是一个 3×3 的局部平均 可以观察到 是有一些噪声的减少 但并不是很多 再看这里 是 3×3 中值滤波的结果 可以观察到一个很好的效果 并没有出现模糊 可以观察到大多数的噪声的确都被滤掉了 我们可以通过一个比 3×3 大的局部均值滤波器 来过滤掉更多的噪声 像 5×5 或者 9×9 就像在之前的视频中提到过的 在均值滤波的过程中 我们对平方个个数的像素值进行了平均 但是 如果增大滤波时的邻域 可以发现 有很多细节都被模糊了 而另一方面 用一个 3×3 邻域的中值滤波器依然能够达到很好的去噪效果 那么什么是中值滤波器呢？ 很简单 就是这样 如果选取一个 3×3 的领域 将这个模板里的所有像素按照从小到大的顺序排列 然后选取最中间的那个 明白了吗？就是将所有的像素排序 然后提取出最中间的那个 这个运算是大家小学就学过的吧 这个功能相当强大 用排在最中间的那个值代替了待处理的像素点 举个例子 如果这儿有一些这样的像素点 其中的一个有很高的噪声 当排序的时候 这个点就会被这些等值的点的值替换 也就是说 这个像素点的值会被替换掉 这个值就会变小 就这样 噪声就被清除掉了 非常的干净 没有出现之前在高斯滤波或者均值滤波中的模糊的效果 均值滤波器是一种非常简单的滤波器 只需排序 然后挑选出最中间的元素 按从小到大排序 然后挑选出排在最中间的那个 然后移到下一个窗口 所以就只需每次处理一个 3×3 的窗口 然后移到下一个窗口处理 再下一个窗口 再下一个 这样 大家就掌握了这个非常简单的 中值滤波器 在我使用 MATLAB 来给大家实时演示 中值滤波器的实例之前 先来看一下 中值滤波器的一个很有趣的性质 在之前的视频中 已经了解到 均值滤波器按 (a-ai)^2 的方式来减少噪声 这里均值就是这个a 它使得这个式子取最小值 将所有的像素点都加起来 现在 我要问大家一个问题 我们可不可以把中值滤波器也写成这样的形式呢？ 也许是另外一个函数 就像这样 f(a-ai) 可以写成这样的函数吗？ 思考一下 如果想到了答案 告诉我可不可以 那么 答案是什么呢？很有趣 这是均值 使这个平方误差取得最小值的 a 就是均值 那什么是中值呢？ 中值可以使得 (a-ai) 的绝对值取得最小值 这里没有平方 而是差值的绝对值 非常有趣的是 仅仅是将这个平方符号 换成绝对值 就得到了中值 依旧 大家可以自己证明一下 可能会有一点困难 因为当讨论怎样证明均值的时候 会对这个式子求导 使导数等于0 可以发现 a 就是所有 ai 的均值 但是在这里不能求导 因为在0点 绝对值不存在导数 所以 这个证明会用到更多技巧 但是我相信大家可以做到 这个作为大家额外的奖励作业 大家不用考虑太多 如果不想自己证明 可以先相信我的结论 使得这个式子最小的 就是中值滤波器 一个特别有趣的运算 对于熟悉稳健统计这个领域的人而言 这个是平方误差 鲁棒性并不太强 所以均值滤波会有模糊 而相比之下这个误差鲁棒性比刚才的强 这也是中值滤波能够完全消除 像椒盐噪声之类噪声的原因 而不使图像其它部分模糊 我想提到的 最后一个关于中值的有趣性质就是 在均值中 得到的结果并不是模板中的某个像素值 举个例子 如果算 1 和 2 的均值 得到的是1.5 而既不是1 也不是2 当计算均值的时候 比如一个 3×3 的模板 当计算完这个 3×3 的均值后 用均值代替了中间的那个像素 也许就用一个根本没有出现过的值代替了这个像素 这个值可能没有在这个 3×3 的窗口中出现过 甚至可能在整个图像中也都没出现过 再说一遍 1和2的均值是1.5 是一个新值 从这个角度而言 当进行中值滤波的时候 总是用一个在 3×3 的窗口中存在的值来进行替换 也就是说 并没有弄出一个新的像素值出来 而这是其中的部分过程 这个性质确实十分有趣 用的是已有值 没有新值出现 只是这个像素点周围邻域像素点的中值 被选择来替代它的值 既然已经学习了中值 以及它的一些有趣的性质 接下来 就来看一些关于中值滤波器的操作实例 下一个视频再见 谢谢大家